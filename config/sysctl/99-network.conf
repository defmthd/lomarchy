# BBR congestion control - excellent for Wi-Fi and gaming
net.ipv4.tcp_congestion_control = bbr
net.core.default_qdisc = fq

# TCP keepalive - reasonable for SSH/dev connections
net.ipv4.tcp_keepalive_time = 600

# Connection queues - adequate for desktop use
net.core.somaxconn = 2048
net.core.netdev_max_backlog = 4096

# Network buffers - sized for gigabit+ ethernet
net.core.rmem_default = 262144
net.core.rmem_max = 67108864

net.core.wmem_default = 262144
net.core.wmem_max = 67108864

net.core.optmem_max = 65536

net.ipv4.tcp_rmem = 4096 131072 67108864
net.ipv4.tcp_wmem = 4096 131072 67108864

net.ipv4.udp_rmem_min = 16384
net.ipv4.udp_wmem_min = 16384

# TCP Fast Open - faster API calls, git, web browsing
net.ipv4.tcp_fastopen = 3

# MTU probing - helps with some game servers and VPNs
net.ipv4.tcp_mtu_probing = 1

# Standard TCP optimizations
net.ipv4.tcp_window_scaling = 1
net.ipv4.tcp_timestamps = 1
net.ipv4.tcp_sack = 1

# Faster connection cleanup - good for gaming/dev
net.ipv4.tcp_fin_timeout = 15

# Security - protect against SYN floods
net.ipv4.tcp_syncookies = 1

# Disable slow start after idle - better for bursty traffic
net.ipv4.tcp_slow_start_after_idle = 0

# CRITICAL for gaming: reduce bufferbloat
# Keeps latency low during downloads/uploads
net.ipv4.tcp_notsent_lowat = 16384

# Additional gaming optimization: limit retransmission attempts
# Fails faster rather than adding latency
net.ipv4.tcp_retries2 = 8
