# Desktop system limits - removes common bottlenecks for development and desktop use

# Inotify watches - essential for IDEs, file managers, build tools
# Default is 8192, which is too low for modern development
fs.inotify.max_user_watches = 524288
fs.inotify.max_user_instances = 512
fs.inotify.max_queued_events = 32768

# File handles - increase max open files system-wide
# Important for development servers, Docker, VMs, etc.
fs.file-max = 2097152

# AIO limits - helps with databases and I/O intensive applications
fs.aio-max-nr = 1048576

# Memory map areas - critical for Chrome, VSCode, Electron apps
# Chrome alone can easily exceed the default 65530
vm.max_map_count = 262144

# Shared memory - useful for applications like Discord, Wine, games
kernel.shmmax = 17179869184
kernel.shmall = 4194304

# Process limits - increase max PIDs for containers and VMs
kernel.pid_max = 4194304

# Dmesg access for regular users - useful for debugging
kernel.dmesg_restrict = 0

# Core dumps - allow for debugging applications
kernel.core_uses_pid = 1

# Increase queue size for signals
kernel.msgmnb = 65536
kernel.msgmax = 65536

# Semaphores - important for some applications and games
kernel.sem = 250 256000 100 1024
